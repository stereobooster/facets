# Inverted index experiment

## TODO

- workspace
  - main package
    - MVP
      - [x] one level objects
      - [ ] use one type of pagination everywhere: `page + perPgae` or `limit + offset`
      - [ ] filter by facets
      - [ ] text search
      - [ ] sort results by string column
        - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare
        - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort
      - [ ] sort results by numeric column
      - [ ] sort results by relevance
      - [ ] pagination
      - [ ] filter by callback (for numeric ranges)
      - [ ] facets
        - sort facets (by frequency, etc.)
        - limit
      - [ ] search for facets
        - pagination
    - tests
    - typescript signature
    - Post MVP
      - built in prefix search based on TrieMap
      - memoization for consequent operations
        - search narrowing
        - pagination
        - sorting
      - filter by facet by numeric range
        - would allow better memoization
      - sort by more than one column
      - highilght search results
      - preindexed data
      - event dispatcher for async processing
      - web worker
      - date time columns
      - more than one level objects
      - autocomplete - what the sense if results are updated immediately?
    - Other
      - do we need shcema?
        - TrieMap only works for strings
        - by default JS sorts numbers as strings
        - natural sort (`["a100", "a11"].sort()`)
        - RoaringWasm and other TrieMaps
        - [BFloat16 wasm](https://github.com/tc39/proposal-float16array/issues/7)
  - InstantSearch adpater
    - https://github.com/unplatform-io/instantsearch-itemsjs-adapter/blob/main/src/adapter.ts
    - https://github.com/typesense/typesense-instantsearch-adapter/blob/master/src/TypesenseInstantsearchAdapter.js
  - demo
  - query string parser
